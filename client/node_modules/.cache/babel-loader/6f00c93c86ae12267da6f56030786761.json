{"ast":null,"code":"import _classCallCheck from\"/Users/angelageorge/Desktop/DailyDiaryHub/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/angelageorge/Desktop/DailyDiaryHub/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/angelageorge/Desktop/DailyDiaryHub/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/angelageorge/Desktop/DailyDiaryHub/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/angelageorge/Desktop/DailyDiaryHub/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import QuoteForm from'./QuoteForm';import axios from'axios';var displayQuotes={display:'flex',flexDirection:'row',padding:20};var quotesInner={display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',padding:20};var buttonP={border:2,borderStyle:\"solid\",borderLeftColor:\"white\",borderTopColor:\"white\",borderRightColor:\"white\",borderBottomColor:\"white\",backgroundColor:\"transparent\",borderRadius:\"0px 20px 20px 0px\",marginRight:5,paddingRight:10,paddingLeft:10};var buttonM={borderColor:\"transparent\",backgroundColor:\"white\",borderRadius:\"20px 0px 00px 20px\",marginLeft:5,paddingRight:10,paddingLeft:10};var button={borderColor:\"transparent\",backgroundColor:\"white\",borderRadius:20,margin:5,paddingRight:10,paddingLeft:10};var moveButton={borderColor:\"transparent\",height:30,backgroundColor:\"white\",borderRadius:20,marginTop:30,paddingRight:10,paddingLeft:10};var QuoteContainer=/*#__PURE__*/function(_React$Component){_inherits(QuoteContainer,_React$Component);var _super=_createSuper(QuoteContainer);function QuoteContainer(){var _this;_classCallCheck(this,QuoteContainer);_this=_super.call(this);_this.state={index:0,length:0,quotes:[],didMount:false,showMyComponent:true};_this.backupIndex=_this.backupIndex.bind(_assertThisInitialized(_this));_this.forwardIndex=_this.forwardIndex.bind(_assertThisInitialized(_this));_this.addQuote=_this.addQuote.bind(_assertThisInitialized(_this));_this.submitQuote=_this.submitQuote.bind(_assertThisInitialized(_this));_this.minusQuote=_this.minusQuote.bind(_assertThisInitialized(_this));_this.loadQuotes=_this.loadQuotes.bind(_assertThisInitialized(_this));return _this;}_createClass(QuoteContainer,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadQuotes();}},{key:\"loadQuotes\",value:function loadQuotes(){var _this2=this;var id=this.props.id;axios.get('https://'+document.location.hostname+'/quotes').then(function(response){if(response.data.length>0){var temp=0;_this2.setState({quotes:response.data.filter(function(obj){if(obj.username===id){temp++;return obj;}else return;}),length:temp,didMount:true,index:0});}});}},{key:\"backupIndex\",value:function backupIndex(){if(this.state.length===1){return;}this.setState(function(prevState){if(prevState.index-1<0){return{index:prevState.length-1};}else{return{index:prevState.index-1};}});}},{key:\"forwardIndex\",value:function forwardIndex(){if(this.state.length===1){return;}this.setState(function(prevState){if(prevState.index+1===prevState.length){return{index:0};}else{return{index:prevState.index+1};}});}},{key:\"addQuote\",value:function addQuote(){this.setState(function(prevState){return{showMyComponent:!prevState.showMyComponent};});}},{key:\"minusQuote\",value:function minusQuote(){var _this3=this;if(this.state.length===0){return;}var id=this.state.quotes[this.state.index]._id;axios.delete('https://'+document.location.hostname+'/quotes/'+id).then(function(res){console.log(res.data);_this3.setState({didMount:false});_this3.loadQuotes();});}},{key:\"submitQuote\",value:function submitQuote(newQuote){var _this4=this;var dbQuote={username:this.props.id,//pass down username from auth0\ntext:newQuote.quote,author:newQuote.author};//temp url!\naxios.post('https://'+document.location.hostname+'/quotes/add',dbQuote).then(function(response){console.log(response.data);_this4.setState(function(prevState){return{showMyComponent:!prevState.showMyComponent};});_this4.loadQuotes();}).catch(function(error){alert(\"you must type a valid quote and author\");});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{style:displayQuotes,children:[/*#__PURE__*/_jsx(\"button\",{style:moveButton,onClick:this.backupIndex,children:\"<\"}),/*#__PURE__*/_jsxs(\"div\",{children:[this.state.showMyComponent&&/*#__PURE__*/_jsxs(\"div\",{style:quotesInner,children:[/*#__PURE__*/_jsxs(\"h3\",{children:[this.state.didMount&&this.state.length>0&&this.state.quotes[this.state.index].text,\" \",this.state.length===0&&\"add new quote\"]}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"- \",this.state.didMount&&this.state.length>0&&this.state.quotes[this.state.index].author,\" \",this.state.length===0&&\"by author\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"button\",{style:buttonM,onClick:this.minusQuote,children:\"-\"}),/*#__PURE__*/_jsx(\"button\",{style:buttonP,onClick:this.addQuote,children:\"+\"})]})]}),!this.state.showMyComponent&&/*#__PURE__*/_jsx(QuoteForm,{submitQuote:this.submitQuote})]}),/*#__PURE__*/_jsx(\"button\",{style:moveButton,onClick:this.forwardIndex,children:\">\"})]});}}]);return QuoteContainer;}(React.Component);export default QuoteContainer;","map":{"version":3,"sources":["/Users/angelageorge/Desktop/DailyDiaryHub/client/src/components/QuoteContainer.js"],"names":["React","QuoteForm","axios","displayQuotes","display","flexDirection","padding","quotesInner","justifyContent","alignItems","buttonP","border","borderStyle","borderLeftColor","borderTopColor","borderRightColor","borderBottomColor","backgroundColor","borderRadius","marginRight","paddingRight","paddingLeft","buttonM","borderColor","marginLeft","button","margin","moveButton","height","marginTop","QuoteContainer","state","index","length","quotes","didMount","showMyComponent","backupIndex","bind","forwardIndex","addQuote","submitQuote","minusQuote","loadQuotes","id","props","get","document","location","hostname","then","response","data","temp","setState","filter","obj","username","prevState","_id","delete","res","console","log","newQuote","dbQuote","text","quote","author","post","catch","error","alert","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport QuoteForm from './QuoteForm';\nimport axios from 'axios';\n\nconst displayQuotes = {\n    display: 'flex',\n    flexDirection: 'row',\n    padding: 20\n}\n\nconst quotesInner = {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20\n}\n\nconst buttonP = {\n    border: 2,\n    borderStyle: \"solid\",\n    borderLeftColor : \"white\",\n    borderTopColor : \"white\",\n    borderRightColor: \"white\",\n    borderBottomColor: \"white\",\n    backgroundColor : \"transparent\",\n    borderRadius : \"0px 20px 20px 0px\",\n    marginRight : 5,\n    paddingRight: 10,\n    paddingLeft: 10\n}\n\nconst buttonM = {\n    borderColor : \"transparent\",\n    backgroundColor : \"white\",\n    borderRadius : \"20px 0px 00px 20px\",\n    marginLeft : 5,\n    paddingRight: 10,\n    paddingLeft: 10\n}\n  const button = {\n    borderColor : \"transparent\",\n    backgroundColor : \"white\",\n    borderRadius : 20,\n    margin : 5,\n    paddingRight: 10,\n    paddingLeft: 10\n}\n\nconst moveButton = {\n    borderColor : \"transparent\",\n    height : 30,\n    backgroundColor : \"white\",\n    borderRadius : 20,\n    marginTop : 30,\n    paddingRight: 10,\n    paddingLeft: 10\n}\n\nclass QuoteContainer extends React.Component{\n    constructor () {\n        super()\n        this.state = {\n            \n            index: 0,\n            length: 0,\n            quotes: [],\n            didMount: false,\n            showMyComponent : true\n        }\n        this.backupIndex = this.backupIndex.bind(this)\n        this.forwardIndex = this.forwardIndex.bind(this)\n        this.addQuote = this.addQuote.bind(this)\n        this.submitQuote = this.submitQuote.bind(this)\n        this.minusQuote = this.minusQuote.bind(this)\n        this.loadQuotes = this.loadQuotes.bind(this)\n    }\n\n    componentDidMount() {\n        this.loadQuotes()\n    }\n\n    loadQuotes(){\n        let id = this.props.id\n        axios.get('https://' + document.location.hostname + '/quotes')\n            .then(response=> {\n                if (response.data.length > 0){\n                    var temp = 0\n                    this.setState({\n                        quotes: response.data.filter( function(obj) {\n                             if (obj.username === id){\n                                 temp++;\n                                return obj\n                             }\n                             else return   \n                        }),\n                        length: temp,\n                        didMount: true,\n                        index: 0\n                    })\n                }\n            })\n    }\n\n    backupIndex(){\n        if (this.state.length === 1){\n            return;\n        }\n        this.setState(prevState => {\n            \n            if (prevState.index -1 < 0){\n                return {\n                    index : prevState.length-1\n                }\n            }\n            else {\n                return {\n                    index : prevState.index - 1\n                }\n            } \n        })\n    }\n\n    forwardIndex(){\n\n        if (this.state.length === 1){\n            return;\n        }\n        \n        this.setState(prevState => {\n            \n            if (prevState.index + 1 === prevState.length){\n                return {\n                    index : 0,\n                }\n            }\n            else {\n                return {\n                    index : prevState.index + 1,\n                }\n            } \n        })\n    }\n\n    addQuote(){\n        this.setState(prevState => {\n            return {\n                showMyComponent : !prevState.showMyComponent\n            }\n        })\n    }\n\n    minusQuote(){\n\n        if (this.state.length === 0){\n            return\n        }\n        let id = this.state.quotes[this.state.index]._id;\n        axios.delete('https://' + document.location.hostname + '/quotes/' + id)\n            .then(res => {\n            console.log(res.data)\n            this.setState({didMount: false})\n            this.loadQuotes()\n        });\n    }\n\n    submitQuote(newQuote){\n        const dbQuote = {\n            username: this.props.id, //pass down username from auth0\n            text: newQuote.quote,\n            author: newQuote.author\n        }\n\n        //temp url!\n        axios.post('https://' + document.location.hostname + '/quotes/add', dbQuote)\n            .then((response) => {\n                console.log(response.data)\n\n                this.setState(prevState => {\n                    return {\n                        showMyComponent : !prevState.showMyComponent\n                    } \n                })\n\n                this.loadQuotes();  \n            })\n            .catch(error => {\n                alert(\"you must type a valid quote and author\")\n            })\n\n        \n    }\n\n    render() {\n        \n        return(\n            <div style = {displayQuotes}>\n                <button style = {moveButton }onClick = {this.backupIndex}>&lt;</button>\n                <div>\n                    { this.state.showMyComponent && \n                    <div style = {quotesInner}>\n                        <h3>{(this.state.didMount && this.state.length > 0) && this.state.quotes[this.state.index].text} {this.state.length === 0 && \"add new quote\"}</h3>\n                        <h4>- {(this.state.didMount && this.state.length >0) && this.state.quotes[this.state.index].author} {this.state.length === 0 && \"by author\"}</h4>\n                        <p>\n                        <button style = {buttonM} onClick = {this.minusQuote}>-</button>\n                        <button style = {buttonP} onClick = {this.addQuote}>+</button>\n                        </p>\n                        \n                    </div>\n                    }\n                    {!this.state.showMyComponent && <QuoteForm submitQuote = {this.submitQuote}/>}\n                    \n                </div>\n                <button style = {moveButton} onClick = {this.forwardIndex}>&gt;</button>\n            </div>\n        )\n    }  \n}\n\nexport default QuoteContainer"]},"metadata":{},"sourceType":"module"}